import{a as e,u as a,b as r,R as s,r as t,j as l,l as d,x as i,L as n,y as x,z as m,t as o,C as c,G as g,H as h,I as b}from"./index-8fe229f6.js";const k=({children:k,title:y})=>{const p=e(),f=a(),{isAdminLoggedIn:j,adminLogout:u,isLoading:v}=r(),[N,w]=s.useState(!1);if(t.useEffect((()=>{v||j||f("/admin/login",{replace:!0})}),[j,f,v]),v)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg-light dark:bg-gray-900",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})});if(!j)return null;if(!p.pathname.startsWith("/admin"))return l.jsx(l.Fragment,{children:k});const C=e=>"/admin/dashboard"===e?p.pathname===e:p.pathname===e||"/admin/dashboard"!==e&&p.pathname.startsWith(e);return l.jsxs("div",{className:"min-h-screen bg-bg-light dark:bg-gray-900 flex flex-col",children:[l.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-slate-200 dark:border-gray-700",children:[l.jsx("h1",{className:"text-xl font-bold text-text-heading dark:text-white",children:y||"لوحة الإدارة"}),l.jsx("button",{onClick:()=>{w(!N)},className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-gray-700 text-slate-700 dark:text-gray-400","aria-label":N?"Close sidebar":"Open sidebar",children:N?l.jsx(d,{size:24}):l.jsx(i,{size:24})})]}),l.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[l.jsx("div",{className:`\n            bg-white dark:bg-gray-800 w-full lg:w-64 border-r border-slate-200 dark:border-gray-700 \n            lg:min-h-screen fixed lg:relative top-0 left-0 h-full z-40 lg:z-auto lg:flex\n            ${N?"block pt-16":"hidden"}\n          `,"aria-hidden":!N&&window.innerWidth<1024,children:l.jsxs("div",{className:"p-4 lg:p-6 h-full overflow-y-auto",children:[l.jsx("h2",{className:"text-xl font-bold text-text-heading dark:text-white mb-6 hidden lg:block",children:"لوحة الإدارة"}),l.jsxs("nav",{className:"space-y-2",children:[l.jsxs(n,{to:"/admin/dashboard",className:"flex items-center p-3 rounded-lg "+(C("/admin/dashboard")?"bg-primary-50 dark:bg-sky-900/20 text-primary-700 dark:text-sky-400":"text-slate-700 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700"),onClick:()=>w(!1),children:[l.jsx(x,{className:"ml-3"})," الرئيسية"]}),l.jsxs(n,{to:"/admin/sections",className:"flex items-center p-3 rounded-lg "+(C("/admin/sections")?"bg-primary-50 dark:bg-sky-900/20 text-primary-700 dark:text-sky-400":"text-slate-700 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700"),onClick:()=>w(!1),children:[l.jsx(m,{className:"ml-3"})," الأقسام"]}),l.jsxs(n,{to:"/admin/exams/create",className:"flex items-center p-3 rounded-lg "+(C("/admin/exams/create")?"bg-primary-50 dark:bg-sky-900/20 text-primary-700 dark:text-sky-400":"text-slate-700 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700"),onClick:()=>w(!1),children:[l.jsx(o,{className:"ml-3"})," إنشاء اختبار"]}),l.jsxs(n,{to:"/admin/exams",className:"flex items-center p-3 rounded-lg "+(C("/admin/exams")?"bg-primary-50 dark:bg-sky-900/20 text-primary-700 dark:text-sky-400":"text-slate-700 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700"),onClick:()=>w(!1),children:[l.jsx(c,{className:"ml-3"})," جميع الاختبارات"]}),l.jsxs(n,{to:"/admin/users",className:"flex items-center p-3 rounded-lg "+(C("/admin/users")?"bg-primary-50 dark:bg-sky-900/20 text-primary-700 dark:text-sky-400":"text-slate-700 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700"),onClick:()=>w(!1),children:[l.jsx(g,{className:"ml-3"})," المستخدمون"]}),l.jsxs(n,{to:"/admin/stats",className:"flex items-center p-3 rounded-lg "+(C("/admin/stats")?"bg-primary-50 dark:bg-sky-900/20 text-primary-700 dark:text-sky-400":"text-slate-700 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700"),onClick:()=>w(!1),children:[l.jsx(h,{className:"ml-3"})," الإحصائيات"]})]}),l.jsx("div",{className:"mt-8 pt-4 border-t border-slate-200 dark:border-gray-700",children:l.jsxs("button",{onClick:async()=>{await u(),f("/admin/login",{replace:!0})},className:"flex items-center w-full p-3 text-left text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg",children:[l.jsx(b,{className:"ml-3"})," تسجيل الخروج"]})})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>w(!1)}),l.jsxs("div",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:[y&&l.jsx("div",{className:"mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-text-heading dark:text-white",children:y})}),k]})]})]})};export{k as A};
