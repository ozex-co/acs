import{u as e,a as s,b as a,c as t,d as n,r,j as l,L as i,E as d,B as c}from"./index-8fe229f6.js";const o=()=>{const o=e(),m=s(),{adminLogin:x,isAdminLoggedIn:u}=a();t();const{startLoading:g,stopLoading:h}=n(),[b,p]=r.useState(""),[f,j]=r.useState(""),[y,v]=r.useState(""),[N,w]=r.useState(!1);r.useEffect((()=>{var e,s;if(u){const a=(null==(s=null==(e=m.state)?void 0:e.from)?void 0:s.pathname)||"/admin/dashboard";o(a,{replace:!0})}}),[u,o,m]);return l.jsxs("div",{className:"min-h-screen bg-bg-dark flex flex-col",children:[l.jsx("div",{className:"py-8 text-center",children:l.jsxs(i,{to:"/",className:"inline-block text-3xl font-bold",children:[l.jsx("span",{className:"text-primary",children:"A"}),l.jsx("span",{className:"text-secondary",children:"CS"})]})}),l.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:l.jsx("div",{className:"w-full max-w-md","data-aos":"fade-up",children:l.jsxs("div",{className:"bg-bg-light p-8 rounded-lg shadow-xl border border-gray-800",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Admin Login"}),l.jsx("p",{className:"text-gray-400",children:"Enter your credentials to access the admin panel"})]}),y&&l.jsx(d,{message:y,variant:"error",dismissible:!0,onDismiss:()=>v("")}),l.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!b.trim())return void v("Username is required");if(!f)return void v("Password is required");const s="admin-login";g(s,"Logging in..."),v(""),w(!0);try{await x(b,f)||v("Invalid admin credentials. Please check your username and password.")}catch(a){v(`Authentication failed: ${a.message||"Unknown error"}. Please try again.`)}finally{h(s),w(!1)}},children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"username",className:"block text-gray-300 mb-1",children:"Username"}),l.jsx("input",{type:"text",id:"username",value:b,onChange:e=>p(e.target.value),className:"w-full bg-bg-dark border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent",placeholder:"Enter your admin username"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"password",className:"block text-gray-300 mb-1",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:f,onChange:e=>j(e.target.value),className:"w-full bg-bg-dark border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent",placeholder:"••••••"})]}),l.jsx(c,{type:"submit",variant:"accent",fullWidth:!0,className:"py-3",disabled:N,children:N?"Logging in...":"Login to Admin Panel"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(i,{to:"/login",className:"text-secondary hover:underline text-sm",children:"Back to Student Login"})})]})})}),l.jsxs("div",{className:"py-6 text-center text-gray-600 text-sm",children:["ACS Admin Panel © ",(new Date).getFullYear()]})]})};export{o as default};
